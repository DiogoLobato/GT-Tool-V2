package dummy;

public class JavaVulnerability {

    public final String sqlQuery = "SELECT * FROM users";

    public void unsafeFindAccountsByCustomerId(String customerId, int option) throws SQLException {

        String sql = "select "
                + "customer_id,acc_number,branch_id,balance "
                + "from Accounts where customer_id = '"
                + customerId
                + "'";


        Connection conn1 = null;

        ResultSet tainted;
        if (option == 0)
            tainted = conn1.createStatement().executeQuery(sql).createStatement();
        else if (option > 1) {
            if (option == 4) {
                ResultSet notTainted = conn1.createStatement().executeQuery("SELECT * FROM users");

                if (true) {

                    sql = "select "
                            + "customer_id,acc_number,branch_id,balance "
                            + "from Accounts where customer_id = '"
                            + customerId
                            + "'";

                }
            } else
                sql = "select ";
        } else if (option == 8080) {
            tainted = null;
        } else {
            ResultSet notTainted = conn1.createStatement().executeQuery(sql + "constante");
        }

    }
}